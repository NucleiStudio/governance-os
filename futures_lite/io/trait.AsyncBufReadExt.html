<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Extension trait for [`AsyncBufRead`]."><meta name="keywords" content="rust, rustlang, rust-lang, AsyncBufReadExt"><title>AsyncBufReadExt in futures_lite::io - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings"></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../futures_lite/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><p class="location">Trait AsyncBufReadExt</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#provided-methods">Provided Methods</a><div class="sidebar-links"><a href="#method.consume">consume</a><a href="#method.fill_buf">fill_buf</a><a href="#method.lines">lines</a><a href="#method.read_line">read_line</a><a href="#method.read_until">read_until</a><a href="#method.split">split</a></div><a class="sidebar-title" href="#implementors">Implementors</a></div><p class="location"><a href="../index.html">futures_lite</a>::<wbr><a href="index.html">io</a></p><div id="sidebar-vars" data-name="AsyncBufReadExt" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="../index.html">futures_lite</a>::<wbr><a href="index.html">io</a>::<wbr><a class="trait" href="">AsyncBufReadExt</a><button id="copy-path" onclick="copy_path(this)">⎘</button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/futures_lite/io.rs.html#1308-1500" title="goto source code">[src]</a></span></h1><div class="docblock type-decl"><pre class="rust trait">pub trait AsyncBufReadExt: <a class="trait" href="../../futures_io/if_std/trait.AsyncBufRead.html" title="trait futures_io::if_std::AsyncBufRead">AsyncBufRead</a> {
    fn <a href="#method.fill_buf" class="fnname">fill_buf</a>(&amp;mut self) -&gt; <a class="struct" href="struct.FillBuf.html" title="struct futures_lite::io::FillBuf">FillBuf</a>&lt;'_, Self&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><h3 class="notable">Notable traits for <a class="struct" href="struct.FillBuf.html" title="struct futures_lite::io::FillBuf">FillBuf</a>&lt;'a, R&gt;</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R:&nbsp;?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a> for <a class="struct" href="struct.FillBuf.html" title="struct futures_lite::io::FillBuf">FillBuf</a>&lt;'a, R&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="../../futures_io/if_std/trait.AsyncBufRead.html" title="trait futures_io::if_std::AsyncBufRead">AsyncBufRead</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html#associatedtype.Output" class="type">Output</a> = <a class="type" href="https://doc.rust-lang.org/nightly/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;'a [</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;;</span></code></span></div></span></span><br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a></span>,
    { ... }
<div class="item-spacer"></div>    fn <a href="#method.consume" class="fnname">consume</a>(&amp;mut self, amt: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>)<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a></span>,
    { ... }
<div class="item-spacer"></div>    fn <a href="#method.read_until" class="fnname">read_until</a>&lt;'a&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;'a mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buf: &amp;'a mut <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="struct" href="struct.ReadUntilFuture.html" title="struct futures_lite::io::ReadUntilFuture">ReadUntilFuture</a>&lt;'_, Self&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><h3 class="notable">Notable traits for <a class="struct" href="struct.ReadUntilFuture.html" title="struct futures_lite::io::ReadUntilFuture">ReadUntilFuture</a>&lt;'_, R&gt;</h3><code class="content"><span class="where fmt-newline">impl&lt;R:&nbsp;<a class="trait" href="../../futures_io/if_std/trait.AsyncBufRead.html" title="trait futures_io::if_std::AsyncBufRead">AsyncBufRead</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a> for <a class="struct" href="struct.ReadUntilFuture.html" title="struct futures_lite::io::ReadUntilFuture">ReadUntilFuture</a>&lt;'_, R&gt;</span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html#associatedtype.Output" class="type">Output</a> = <a class="type" href="https://doc.rust-lang.org/nightly/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;;</span></code></span></div></span></span><br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a></span>,
    { ... }
<div class="item-spacer"></div>    fn <a href="#method.read_line" class="fnname">read_line</a>&lt;'a&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;'a mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buf: &amp;'a mut <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="struct" href="struct.ReadLineFuture.html" title="struct futures_lite::io::ReadLineFuture">ReadLineFuture</a>&lt;'_, Self&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><h3 class="notable">Notable traits for <a class="struct" href="struct.ReadLineFuture.html" title="struct futures_lite::io::ReadLineFuture">ReadLineFuture</a>&lt;'_, R&gt;</h3><code class="content"><span class="where fmt-newline">impl&lt;R:&nbsp;<a class="trait" href="../../futures_io/if_std/trait.AsyncBufRead.html" title="trait futures_io::if_std::AsyncBufRead">AsyncBufRead</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a> for <a class="struct" href="struct.ReadLineFuture.html" title="struct futures_lite::io::ReadLineFuture">ReadLineFuture</a>&lt;'_, R&gt;</span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html#associatedtype.Output" class="type">Output</a> = <a class="type" href="https://doc.rust-lang.org/nightly/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;;</span></code></span></div></span></span><br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a></span>,
    { ... }
<div class="item-spacer"></div>    fn <a href="#method.lines" class="fnname">lines</a>(self) -&gt; <a class="struct" href="struct.Lines.html" title="struct futures_lite::io::Lines">Lines</a>&lt;Self&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a></span>,
    { ... }
<div class="item-spacer"></div>    fn <a href="#method.split" class="fnname">split</a>(self, byte: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>) -&gt; <a class="struct" href="struct.Split.html" title="struct futures_lite::io::Split">Split</a>&lt;Self&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a></span>,
    { ... }
}</pre></div><div class="docblock"><p>Extension trait for <a href="../../futures_io/if_std/trait.AsyncBufRead.html" title="AsyncBufRead"><code>AsyncBufRead</code></a>.</p>
</div><h2 id="provided-methods" class="small-section-header">Provided methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><h3 id="method.fill_buf" class="method"><code>fn <a href="#method.fill_buf" class="fnname">fill_buf</a>(&amp;mut self) -&gt; <a class="struct" href="struct.FillBuf.html" title="struct futures_lite::io::FillBuf">FillBuf</a>&lt;'_, Self&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><h3 class="notable">Notable traits for <a class="struct" href="struct.FillBuf.html" title="struct futures_lite::io::FillBuf">FillBuf</a>&lt;'a, R&gt;</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R:&nbsp;?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a> for <a class="struct" href="struct.FillBuf.html" title="struct futures_lite::io::FillBuf">FillBuf</a>&lt;'a, R&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="../../futures_io/if_std/trait.AsyncBufRead.html" title="trait futures_io::if_std::AsyncBufRead">AsyncBufRead</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html#associatedtype.Output" class="type">Output</a> = <a class="type" href="https://doc.rust-lang.org/nightly/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;'a [</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;;</span></code></span></div></span></span> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,&nbsp;</span></code><a class="srclink" href="../../src/futures_lite/io.rs.html#1330-1335" title="goto source code">[src]</a></h3><div class="docblock"><p>Returns the contents of the internal buffer, filling it with more data if empty.</p>
<p>If the stream has reached EOF, an empty buffer will be returned.</p>
<h1 id="examples" class="section-header"><a href="#examples">Examples</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">futures_lite::io</span>::{<span class="ident">AsyncBufReadExt</span>, <span class="ident">BufReader</span>};
<span class="kw">use</span> <span class="ident">std::pin::Pin</span>;

<span class="kw">let</span> <span class="ident">input</span>: <span class="kw-2">&amp;</span>[<span class="ident">u8</span>] <span class="op">=</span> <span class="string">b&quot;hello world&quot;</span>;
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">reader</span> <span class="op">=</span> <span class="ident">BufReader::with_capacity</span>(<span class="number">5</span>, <span class="ident">input</span>);

<span class="macro">assert_eq!</span>(<span class="ident">reader</span>.<span class="ident">fill_buf</span>().<span class="kw">await</span><span class="question-mark">?</span>, <span class="string">b&quot;hello&quot;</span>);
<span class="ident">reader</span>.<span class="ident">consume</span>(<span class="number">2</span>);
<span class="macro">assert_eq!</span>(<span class="ident">reader</span>.<span class="ident">fill_buf</span>().<span class="kw">await</span><span class="question-mark">?</span>, <span class="string">b&quot;llo&quot;</span>);
<span class="ident">reader</span>.<span class="ident">consume</span>(<span class="number">3</span>);
<span class="macro">assert_eq!</span>(<span class="ident">reader</span>.<span class="ident">fill_buf</span>().<span class="kw">await</span><span class="question-mark">?</span>, <span class="string">b&quot; worl&quot;</span>);</pre></div>
</div><h3 id="method.consume" class="method"><code>fn <a href="#method.consume" class="fnname">consume</a>(&amp;mut self, amt: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,&nbsp;</span></code><a class="srclink" href="../../src/futures_lite/io.rs.html#1360-1365" title="goto source code">[src]</a></h3><div class="docblock"><p>Consumes <code>amt</code> buffered bytes.</p>
<p>This method does not perform any I/O, it simply consumes some amount of bytes from the
internal buffer.</p>
<p>The <code>amt</code> must be &lt;= the number of bytes in the buffer returned by
<a href="trait.AsyncBufReadExt.html#method.fill_buf" title="AsyncBufReadExt::fill_buf()"><code>fill_buf()</code></a>.</p>
<h1 id="examples-1" class="section-header"><a href="#examples-1">Examples</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">futures_lite::io</span>::{<span class="ident">AsyncBufReadExt</span>, <span class="ident">BufReader</span>};
<span class="kw">use</span> <span class="ident">std::pin::Pin</span>;

<span class="kw">let</span> <span class="ident">input</span>: <span class="kw-2">&amp;</span>[<span class="ident">u8</span>] <span class="op">=</span> <span class="string">b&quot;hello&quot;</span>;
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">reader</span> <span class="op">=</span> <span class="ident">BufReader::with_capacity</span>(<span class="number">4</span>, <span class="ident">input</span>);

<span class="macro">assert_eq!</span>(<span class="ident">reader</span>.<span class="ident">fill_buf</span>().<span class="kw">await</span><span class="question-mark">?</span>, <span class="string">b&quot;hell&quot;</span>);
<span class="ident">reader</span>.<span class="ident">consume</span>(<span class="number">2</span>);
<span class="macro">assert_eq!</span>(<span class="ident">reader</span>.<span class="ident">fill_buf</span>().<span class="kw">await</span><span class="question-mark">?</span>, <span class="string">b&quot;ll&quot;</span>);</pre></div>
</div><h3 id="method.read_until" class="method"><code>fn <a href="#method.read_until" class="fnname">read_until</a>&lt;'a&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;'a mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;byte: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;buf: &amp;'a mut <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;<br>) -&gt; <a class="struct" href="struct.ReadUntilFuture.html" title="struct futures_lite::io::ReadUntilFuture">ReadUntilFuture</a>&lt;'_, Self&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><h3 class="notable">Notable traits for <a class="struct" href="struct.ReadUntilFuture.html" title="struct futures_lite::io::ReadUntilFuture">ReadUntilFuture</a>&lt;'_, R&gt;</h3><code class="content"><span class="where fmt-newline">impl&lt;R:&nbsp;<a class="trait" href="../../futures_io/if_std/trait.AsyncBufRead.html" title="trait futures_io::if_std::AsyncBufRead">AsyncBufRead</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a> for <a class="struct" href="struct.ReadUntilFuture.html" title="struct futures_lite::io::ReadUntilFuture">ReadUntilFuture</a>&lt;'_, R&gt;</span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html#associatedtype.Output" class="type">Output</a> = <a class="type" href="https://doc.rust-lang.org/nightly/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;;</span></code></span></div></span></span> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,&nbsp;</span></code><a class="srclink" href="../../src/futures_lite/io.rs.html#1387-1397" title="goto source code">[src]</a></h3><div class="docblock"><p>Reads all bytes and appends them into <code>buf</code> until the delimiter <code>byte</code> or EOF is found.</p>
<p>This method will read bytes from the underlying stream until the delimiter or EOF is
found. All bytes up to and including the delimiter (if found) will be appended to <code>buf</code>.</p>
<p>If successful, returns the total number of bytes read.</p>
<h1 id="examples-2" class="section-header"><a href="#examples-2">Examples</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">futures_lite::io</span>::{<span class="ident">AsyncBufReadExt</span>, <span class="ident">BufReader</span>};

<span class="kw">let</span> <span class="ident">input</span>: <span class="kw-2">&amp;</span>[<span class="ident">u8</span>] <span class="op">=</span> <span class="string">b&quot;hello&quot;</span>;
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">reader</span> <span class="op">=</span> <span class="ident">BufReader::new</span>(<span class="ident">input</span>);

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">buf</span> <span class="op">=</span> <span class="ident">Vec::new</span>();
<span class="kw">let</span> <span class="ident">n</span> <span class="op">=</span> <span class="ident">reader</span>.<span class="ident">read_until</span>(<span class="string">b&#39;\n&#39;</span>, <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">buf</span>).<span class="kw">await</span><span class="question-mark">?</span>;</pre></div>
</div><h3 id="method.read_line" class="method"><code>fn <a href="#method.read_line" class="fnname">read_line</a>&lt;'a&gt;(&amp;'a mut self, buf: &amp;'a mut <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>) -&gt; <a class="struct" href="struct.ReadLineFuture.html" title="struct futures_lite::io::ReadLineFuture">ReadLineFuture</a>&lt;'_, Self&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><h3 class="notable">Notable traits for <a class="struct" href="struct.ReadLineFuture.html" title="struct futures_lite::io::ReadLineFuture">ReadLineFuture</a>&lt;'_, R&gt;</h3><code class="content"><span class="where fmt-newline">impl&lt;R:&nbsp;<a class="trait" href="../../futures_io/if_std/trait.AsyncBufRead.html" title="trait futures_io::if_std::AsyncBufRead">AsyncBufRead</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a> for <a class="struct" href="struct.ReadLineFuture.html" title="struct futures_lite::io::ReadLineFuture">ReadLineFuture</a>&lt;'_, R&gt;</span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html#associatedtype.Output" class="type">Output</a> = <a class="type" href="https://doc.rust-lang.org/nightly/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;;</span></code></span></div></span></span> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,&nbsp;</span></code><a class="srclink" href="../../src/futures_lite/io.rs.html#1420-1430" title="goto source code">[src]</a></h3><div class="docblock"><p>Reads all bytes and appends them into <code>buf</code> until a newline (the 0xA byte) or EOF is found.</p>
<p>This method will read bytes from the underlying stream until the newline delimiter (the
0xA byte) or EOF is found. All bytes up to, and including, the newline delimiter (if found)
will be appended to <code>buf</code>.</p>
<p>If successful, returns the total number of bytes read.</p>
<h1 id="examples-3" class="section-header"><a href="#examples-3">Examples</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">futures_lite::io</span>::{<span class="ident">AsyncBufReadExt</span>, <span class="ident">BufReader</span>};

<span class="kw">let</span> <span class="ident">input</span>: <span class="kw-2">&amp;</span>[<span class="ident">u8</span>] <span class="op">=</span> <span class="string">b&quot;hello&quot;</span>;
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">reader</span> <span class="op">=</span> <span class="ident">BufReader::new</span>(<span class="ident">input</span>);

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">line</span> <span class="op">=</span> <span class="ident">String::new</span>();
<span class="kw">let</span> <span class="ident">n</span> <span class="op">=</span> <span class="ident">reader</span>.<span class="ident">read_line</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">line</span>).<span class="kw">await</span><span class="question-mark">?</span>;</pre></div>
</div><h3 id="method.lines" class="method"><code>fn <a href="#method.lines" class="fnname">lines</a>(self) -&gt; <a class="struct" href="struct.Lines.html" title="struct futures_lite::io::Lines">Lines</a>&lt;Self&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code><a class="srclink" href="../../src/futures_lite/io.rs.html#1456-1466" title="goto source code">[src]</a></h3><div class="docblock"><p>Returns a stream over the lines of this byte stream.</p>
<p>The stream returned from this method yields items of type
<a href="https://doc.rust-lang.org/nightly/std/io/error/type.Result.html" title="super::io::Result"><code>io::Result</code></a><code>&lt;</code><a href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="String"><code>String</code></a><code>&gt;</code>.
Each string returned will <em>not</em> have a newline byte (the 0xA byte) or CRLF (0xD, 0xA bytes)
at the end.</p>
<h1 id="examples-4" class="section-header"><a href="#examples-4">Examples</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">futures_lite::io</span>::{<span class="ident">AsyncBufReadExt</span>, <span class="ident">BufReader</span>};
<span class="kw">use</span> <span class="ident">futures_lite::stream::StreamExt</span>;

<span class="kw">let</span> <span class="ident">input</span>: <span class="kw-2">&amp;</span>[<span class="ident">u8</span>] <span class="op">=</span> <span class="string">b&quot;hello\nworld\n&quot;</span>;
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">reader</span> <span class="op">=</span> <span class="ident">BufReader::new</span>(<span class="ident">input</span>);
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">lines</span> <span class="op">=</span> <span class="ident">reader</span>.<span class="ident">lines</span>();

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">line</span> <span class="op">=</span> <span class="ident">String::new</span>();
<span class="kw">while</span> <span class="kw">let</span> <span class="prelude-val">Some</span>(<span class="ident">line</span>) <span class="op">=</span> <span class="ident">lines</span>.<span class="ident">next</span>().<span class="kw">await</span> {
    <span class="macro">println!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">line</span><span class="question-mark">?</span>);
}</pre></div>
</div><h3 id="method.split" class="method"><code>fn <a href="#method.split" class="fnname">split</a>(self, byte: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>) -&gt; <a class="struct" href="struct.Split.html" title="struct futures_lite::io::Split">Split</a>&lt;Self&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code><a class="srclink" href="../../src/futures_lite/io.rs.html#1489-1499" title="goto source code">[src]</a></h3><div class="docblock"><p>Returns a stream over the contents of this reader split on the specified <code>byte</code>.</p>
<p>The stream returned from this method yields items of type
<a href="https://doc.rust-lang.org/nightly/std/io/error/type.Result.html" title="super::io::Result"><code>io::Result</code></a><code>&lt;</code><a href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="Vec"><code>Vec&lt;u8&gt;</code></a><code>&gt;</code>.
Each vector returned will <em>not</em> have the delimiter byte at the end.</p>
<h1 id="examples-5" class="section-header"><a href="#examples-5">Examples</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">futures_lite::io</span>::{<span class="ident">AsyncBufReadExt</span>, <span class="ident">Cursor</span>};
<span class="kw">use</span> <span class="ident">futures_lite::stream::StreamExt</span>;

<span class="kw">let</span> <span class="ident">cursor</span> <span class="op">=</span> <span class="ident">Cursor::new</span>(<span class="string">b&quot;lorem-ipsum-dolor&quot;</span>);
<span class="kw">let</span> <span class="ident">items</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">cursor</span>.<span class="ident">split</span>(<span class="string">b&#39;-&#39;</span>).<span class="ident">try_collect</span>().<span class="kw">await</span><span class="question-mark">?</span>;

<span class="macro">assert_eq!</span>(<span class="ident">items</span>[<span class="number">0</span>], <span class="string">b&quot;lorem&quot;</span>);
<span class="macro">assert_eq!</span>(<span class="ident">items</span>[<span class="number">1</span>], <span class="string">b&quot;ipsum&quot;</span>);
<span class="macro">assert_eq!</span>(<span class="ident">items</span>[<span class="number">2</span>], <span class="string">b&quot;dolor&quot;</span>);</pre></div>
</div></div><span class="loading-content">Loading content...</span><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"><h3 id="impl-AsyncBufReadExt" class="impl"><code class="in-band">impl&lt;R:&nbsp;<a class="trait" href="../../futures_io/if_std/trait.AsyncBufRead.html" title="trait futures_io::if_std::AsyncBufRead">AsyncBufRead</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="trait.AsyncBufReadExt.html" title="trait futures_lite::io::AsyncBufReadExt">AsyncBufReadExt</a> for R</code><a href="#impl-AsyncBufReadExt" class="anchor"></a><a class="srclink" href="../../src/futures_lite/io.rs.html#1502" title="goto source code">[src]</a></h3></div><span class="loading-content">Loading content...</span><script type="text/javascript" src="../../implementors/futures_lite/io/trait.AsyncBufReadExt.js" async></script></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="futures_lite" data-search-index-js="../../search-index.js" data-search-js="../../search.js"></div>
    <script src="../../main.js"></script></body></html>